<!DOCTYPE html>
<html>
<style>
    body {
        text-align: center;
    }
</style>

<head>
    <title>JavaScript Promodoro Clock</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==" crossorigin="anonymous" referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="src/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
</head>

<body onload="initializeTime()">

    <h2>JavaScript Pomodoro Clock</h2>

    <p id="text"></p>
    <p id="demo"></p>

    <button onclick="startTimer()">Start</button>
    <button onclick="pause()">Pause</button>
    <button onclick="reset()">Reset</button>
    <br>
    <br>
    <button onclick="removeTime()"> - </button>
    <button onclick="buttonToggle()"><p id = "buttonText"></p></button>
    <button onclick="addTime()"> + </button>
    <div class="container">
        <div class="buttons">
            <a href="#" class="btn btn-1">New Start</a>
        </div>
    </div>
    <script src="src/js/main.js">
        var m;
        var s;
        var testing;
        let paused = false;
        let pom = true;
        let started = false;

        function initializeTime() {
            m = 25;
            s = "0" + 0;

            document.getElementById('demo').innerHTML = m + ":" + s;
            document.getElementById('buttonText').innerHTML = "Work";
        }

        function startTimer() {
            if (started == false) {
                if (pom) {
                    document.getElementById('text').innerHTML = "Task time remaining:";
                    if (paused == false)
                        window.alert("Get to work!");
                    else
                        paused = false;
                } else {
                    document.getElementById('text').innerHTML = "Break time remaining:";
                    if (paused == false)
                        window.alert("Break time!");
                    else
                        paused = false;
                }
                started = true;
                testing = setInterval(decrementTime, 1000);
            }
        }

        function printTime() {
            if (m < 0) {
                document.getElementById('demo').innerHTML = "00:00"
            } else if (m < 10) {
                if (s < 10)
                    document.getElementById('demo').innerHTML = "0" + m + ":0" + s;
                else
                    document.getElementById('demo').innerHTML = "0" + m + ":" + s;
            } else {
                if (s < 10)
                    document.getElementById('demo').innerHTML = m + ":0" + s;
                else
                    document.getElementById('demo').innerHTML = m + ":" + s;
            }
        }

        function decrementTime() {
            if (m < 0) {
                m = 0;
                s = 0;
                buttonToggle();
            }
            if (s > 0)
                s -= 1;
            else {
                s = 59;
                m -= 1;
            }
            printTime();
        }

        function addTime() {
            if (pom == true)
                m = m + 25;
            else
                m = m + 5;
            printTime();
        }

        function removeTime() {
            if (pom == true)
                m = m - 25;
            else
                m = m - 5;
            printTime();
        }

        function buttonToggle() {
            if (pom == true) {
                m = 5;
                s = 0;
                document.getElementById('buttonText').innerHTML = "Break";
                pom = false;
                clearInterval(testing);
                printTime();
                started = false;
                startTimer();
            } else {
                m = 25;
                s = 0;
                document.getElementById('buttonText').innerHTML = "Work";
                pom = true;
                clearInterval(testing);
                printTime();
                started = false;
                startTimer();
            }
        }

        function pause() {
            if (paused == false && started == true) {
                clearInterval(testing);
                paused = true;
                started = false;
            }
        }

        function reset() {
            pom = true;
            started = false;
            paused = false;
            clearInterval(testing);
            initializeTime();
        }
    </script>

</body>

</html>